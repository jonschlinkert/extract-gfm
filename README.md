# extract-gfm [![NPM version](https://badge.fury.io/js/extract-gfm.svg)](http://badge.fury.io/js/extract-gfm)


> Utilities for extracting and replacing GitHub Flavored Markdown code blocks. For example, you could easily find code blocks for a specific language and run the code through a linter.

See the [example](./example.js) for ideas.

## Install
#### Install with [npm](npmjs.org):

```bash
npm i extract-gfm --save-dev
```

## Run tests

```bash
npm test
```

## Usage

```js
var extract = require('extract-gfm');
extract.parseBlocks('abc\n```js\nvar foo = "bar";\n```\nxyz');
```
**Returns:**

```js
{ text: 'abc\n__CODE_BLOCK0__\nxyz',
  blocks:
   [ { lang: 'js',
       code: 'var foo = "bar";',
       block: '```js\nvar foo = "bar";\n```' } ],
  markers: [ '__CODE_BLOCK0__' ] }
```

## API
### [.stripBlocks](index.js#L24)

* `str` **{String}**: Original string with gfm code blocks.    
* `returns`: {String}  

Strip code blocks from a string and replaced them with
heuristic markers.

### [.extractBlocks](index.js#L41)

* `str` **{String}**: The string to parse.    
* `returns`: {Array}  

Return an array of all **gfm code blocks** found.
See [gfm-code-blocks] for more detail.

### [.parseBlocks](index.js#L70)

Convenience method to make it easy to replace code blocks.

* `str` **{String}**: The string to parse.    
* `returns`: {Object}  

Returns an object with:

   - `text`: the string stripped of code blocks, where each block
     is replaced with a heuristic marker.
   - `blocks`: An array of code blocks, using the [.extractBlocks()](#extractBlocks) method.
   - `markers`: An array of heuristic markers to be used for adding code blocks back.

**Example**

```js
var code = require('extract-gfm');
var fs = require('fs');
var str = fs.readFileSync('README.md', 'utf8');
console.log(code.parseBlocks(str));
```

### [.injectBlocks](index.js#L93)

Used for adding code blocks back into the string after they have been modified somehow.

* `str` **{String}**: A string with heuristic markers to replace.    
* `object` **{String}**: Object created by [.parseBlocks()](#parseBlocks)    
* `returns` **{String}**: Updated string, with shiny new code blocks.  

To customize how this is done, just look at the `injectBlocks`
method and create your own based on this. [.parseBlocks()](#parseBlocks)
really does all of the hard work.

## Author

**Jon Schlinkert**
 
+ [github/jonschlinkert](https://github.com/jonschlinkert)
+ [twitter/jonschlinkert](http://twitter.com/jonschlinkert) 

## License
Copyright (c) 2014 Jon Schlinkert, contributors.  
Released under the MIT license

***

_This file was generated by [verb-cli](https://github.com/assemble/verb-cli) on September 23, 2014._

[gfm-code-blocks]: https://github.com/jonschlinkert/gfm-code-blocks